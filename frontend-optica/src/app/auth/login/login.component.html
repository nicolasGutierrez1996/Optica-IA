<div class="login-container">
  <div class="login-card">
    <h2>Iniciar sesión</h2>

    <form [formGroup]="loginForm">
      <div class="form-group">
        <label for="username">Usuario</label>
        <div class="input-icon">
          <i class="fas fa-user"></i>
        <input type="text" id="username" formControlName="username" required>
          </div>
        @if (loginForm.controls['username'].errors && loginForm.controls['username'].touched) {
          @if (loginForm.controls['username'].errors['required']) {
            <div class="invalid-feedback d-block">Campo Requerido</div>
          }
          @if (loginForm.controls['username'].errors['minlength']) {
            <div class="invalid-feedback d-block">Cantidad mínima de 2 caracteres</div>
          }
          @if (loginForm.controls['username'].errors['maxlength']) {
            <div class="invalid-feedback d-block">Cantidad máxima de 100 caracteres</div>
          }
        }
      </div>

      <div class="form-group">
        <label for="password">Contraseña</label>
        <div class="input-icon">
          <i class="fas fa-lock"></i>
          <input [type]="verPassword ? 'text' : 'password'" id="password"
                  formControlName="password" />
          <button type="button" class="btn-ojito" (click)="verPassword = !verPassword">
            <i class="fas" [ngClass]="verPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
          </button>
        </div>
        @if (loginForm.controls['password'].errors && loginForm.controls['password'].touched) {
          @if (loginForm.controls['password'].errors['required']) {
            <div class="invalid-feedback d-block">Campo Requerido</div>
          }
          @if (loginForm.controls['password'].errors['minlength']) {
            <div class="invalid-feedback d-block">Cantidad mínima de 6 caracteres</div>
          }
          @if (loginForm.controls['password'].errors['maxlength']) {
            <div class="invalid-feedback d-block">Cantidad máxima de 100 caracteres</div>
          }
        }
      </div>

      <button type="submit" class="btn btn-primary btn-lg" [disabled]="loginForm.invalid"
              (click)="iniciarSesion()">Ingresar</button>

      <div class="extra-options">
        <a [routerLink]="'/recuperar-contrasenia'" class="link-opcion">¿Olvidaste tu contraseña?</a>
        <br>
        <span>¿No tenés cuenta? </span>
        <a [routerLink]="'/registrarse'" class="link-opcion">Registrate</a>
      </div>

      @if (error) {
        <p class="error-msg">{{ mensajeError }}</p>
      }
    </form>
  </div>
</div>
